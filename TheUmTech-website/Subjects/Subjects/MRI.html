<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>MRI Study Portal - TheUmTech</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; transition: all 0.5s ease; }
body { background: linear-gradient(135deg,#f9d5e5,#fddde6,#fce4ec); color:#2c3e50; min-height:100vh; padding:20px; overflow-x: hidden; }
.mri-container { max-width:1400px; margin:auto; background:#fff0f5; border-radius:15px; box-shadow:0 10px 30px rgba(0,0,0,0.2); overflow:hidden; color:#2c3e50; animation: fadeIn 0.8s ease-out; }

.mri-quran-verse { text-align:center; padding:15px; background:linear-gradient(to right,#f8a5c2,#f67280); color:white; font-size:1.2rem; border-radius:10px; margin-bottom:20px; animation: slideDown 0.7s ease-out; }

.mri-header { background: linear-gradient(to right,#f8a5c2,#f67280); color:white; padding:30px; text-align:center; position: relative; overflow: hidden; }
.mri-header::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
  animation: pulse 15s infinite linear;
}
.mri-logo { font-size:2.5rem; font-weight:bold; display:flex; justify-content:center; align-items:center; position: relative; z-index: 2; }
.mri-logo-icon { margin-right:15px; font-size:2.8rem; animation: bounce 2s infinite; }
.mri-tagline { font-style:italic; margin-top:10px; opacity:0.9; position: relative; z-index: 2; }

.mri-main-content { display:flex; flex-wrap:wrap; padding:20px; }
.mri-section { flex:1; min-width:300px; padding:20px; background:#fff0f5; border-radius:10px; margin-right:20px; animation: fadeInLeft 0.8s ease-out; }
.mri-section h2 { color:#ff6b81; margin-bottom:20px; padding-bottom:10px; border-bottom:2px solid #f8a5c2; position: relative; }
.mri-section h2::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 50px;
  height: 2px;
  background: #ff6b81;
  animation: expandLine 1.5s ease-out;
}

/* FIXED: 3 cards per row */
.mri-cards-grid { 
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 15px;
}
.mri-card { 
  background:#ffe4f0; 
  border-radius:8px; 
  padding:15px; 
  text-align:center; 
  cursor:pointer; 
  transition:all 0.3s; 
  box-shadow:0 3px 6px rgba(0,0,0,0.1);
  position: relative;
  overflow: hidden;
  animation: fadeInUp 0.6s ease-out;
}
.mri-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
  transition: 0.5s;
}
.mri-card:hover::before {
  left: 100%;
}
.mri-card:hover { 
  transform:translateY(-5px) scale(1.03); 
  box-shadow:0 10px 25px rgba(0,0,0,0.2); 
  background:#f67280; 
  color:white; 
}
.mri-card-icon { font-size:2rem; margin-bottom:10px; color:#ff6b81; transition: all 0.5s; }
.mri-card:hover .mri-card-icon { 
  color:white; 
  transform: rotate(360deg) scale(1.2);
}

/* Enhanced Study Section */
.mri-study-details { 
  flex:2; 
  min-width:300px; 
  padding:20px; 
  background: linear-gradient(135deg, #ffe4f0, #ffd6e6, #ffe4f0);
  border-radius:10px; 
  animation: fadeInRight 0.8s ease-out;
  position: relative;
  overflow: hidden;
}
.mri-study-details::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
  background-size: 200% 200%;
  animation: wave 15s infinite linear;
  z-index: 1;
}
.mri-study-header { 
  display:flex; 
  align-items:center; 
  margin-bottom:20px; 
  position: relative;
  z-index: 2;
}
.mri-study-icon { 
  font-size:2.5rem; 
  margin-right:15px; 
  color:#ff6b81; 
  transition: all 0.5s; 
  animation: pulse 2s infinite;
}
.mri-study-content { 
  background:rgba(255, 255, 255, 0.7); 
  padding:20px; 
  border-radius:10px; 
  box-shadow:0 3px 10px rgba(0,0,0,0.1); 
  min-height:300px; 
  display:flex; 
  flex-direction:column; 
  justify-content:center; 
  align-items:center; 
  text-align:center;
  position: relative;
  z-index: 2;
  backdrop-filter: blur(5px);
}
.mri-welcome-icon { 
  font-size:5rem; 
  color:#f67280; 
  margin-bottom:20px; 
  animation: pulse 2s infinite;
  text-shadow: 0 0 10px rgba(255, 107, 129, 0.3);
}
.mri-welcome-text h2 { 
  color:#ff6b81; 
  margin-bottom:10px; 
  cursor:pointer;
  text-shadow: 0 0 5px rgba(255, 107, 129, 0.2);
}

.mri-features { display:flex; flex-wrap:wrap; justify-content:space-around; padding:30px; background:linear-gradient(to right,#f8a5c2,#f67280); color:white; position: relative; overflow: hidden; }
.mri-features::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.05)"/></svg>');
  background-size: 100% 100%;
  animation: wave 20s infinite linear;
  z-index: 1;
}
.mri-feature { text-align:center; max-width:250px; margin:15px; position: relative; z-index: 2; transition: all 0.5s; }
.mri-feature:hover {
  transform: translateY(-10px);
}
.mri-feature-icon { font-size:2.5rem; margin-bottom:15px; transition: all 0.5s; }
.mri-feature:hover .mri-feature-icon {
  transform: scale(1.2) rotate(10deg);
}

.mri-footer { text-align:center; padding:20px; background:linear-gradient(to right,#f67280,#f8a5c2); color:white; position: relative; }

@media(max-width:1200px){
  .mri-cards-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media(max-width:768px){
  .mri-main-content{ flex-direction:column; } 
  .mri-section{ margin-right:0; margin-bottom:20px; }
  .mri-cards-grid {
    grid-template-columns: repeat(1, 1fr);
  }
}
.mri-active-card { background:#f67280 !important; color:white !important; }
.mri-active-card .mri-card-icon { color:white !important; }

#mri-theme-switch, #mri-night-mode-switch { 
  position: fixed; 
  top:20px; 
  width:50px; 
  height:50px; 
  border-radius:50%; 
  display:flex; 
  justify-content:center; 
  align-items:center; 
  cursor:pointer; 
  box-shadow:0 5px 15px rgba(0,0,0,0.3); 
  font-size:1.5rem; 
  z-index:999; 
  transition: all 0.5s; 
  animation: bounceIn 1s ease-out;
}
#mri-theme-switch { right:80px; background:#ff6b81; color:white; }
#mri-night-mode-switch { right:20px; background:#333; color:white; }
#mri-theme-switch:hover { transform: scale(1.1) rotate(180deg); }
#mri-night-mode-switch:hover { transform: scale(1.1) rotate(15deg); }

body.mri-night-mode { background:#121212 !important; color:#e0e0e0 !important; }
body.mri-night-mode .mri-container { background:#1e1e1e !important; color:#e0e0e0 !important; }
body.mri-night-mode .mri-header, body.mri-night-mode .mri-features, body.mri-night-mode .mri-footer { background:#1a1a1a !important; color:#e0e0e0 !important; }
body.mri-night-mode .mri-section, body.mri-night-mode .mri-study-details, body.mri-night-mode .mri-study-content { background:#252525 !important; color:#e0e0e0 !important; box-shadow:none !important; }
body.mri-night-mode .mri-card { background:#2d2d2d !important; color:#e0e0e0 !important; box-shadow:none !important; }
body.mri-night-mode .mri-card:hover { background:#3a3a3a !important; color:#e0e0e0 !important; }
body.mri-night-mode .mri-card-icon, body.mri-night-mode .mri-study-icon, body.mri-night-mode .mri-welcome-icon, body.mri-night-mode .mri-feature-icon { color:#bb86fc !important; }
body.mri-night-mode .mri-welcome-text h2 a { color:#bb86fc !important; }
body.mri-night-mode .mri-section h2 { color:#bb86fc !important; border-bottom-color:#bb86fc !important; }
body.mri-night-mode .mri-features { color:#e0e0e0 !important; }
body.mri-night-mode .mri-footer { color:#e0e0e0 !important; }

/* Zoom Buttons */
#mri-zoom-out, #mri-zoom-in {
  position: fixed;
  width: 50px;
  height: 50px;
  background: #ff6b81;
  color: white;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  font-size: 1.5rem;
  z-index: 999;
  right: 20px;
  transition: all 0.3s;
}

#mri-zoom-out:hover, #mri-zoom-in:hover {
  transform: scale(1.1);
}

#mri-zoom-out {
  top: 90px;
}

#mri-zoom-in {
  top: 150px;
}

/* Enhanced Button styles for study content */
.mri-topic-button {
  display: block;
  width: 100%;
  margin: 10px 0;
  padding: 15px;
  background: linear-gradient(135deg, #ff6b81, #f67280);
  color: white;
  border: none;
  border-radius: 10px;
  text-align: left;
  cursor: pointer;
  transition: all 0.4s;
  position: relative;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  font-weight: 500;
  font-size: 1rem;
}

.mri-topic-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transition: 0.6s;
}

.mri-topic-button:hover::before {
  left: 100%;
}

.mri-topic-button:hover {
  background: linear-gradient(135deg, #f67280, #ff6b81);
  transform: translateX(8px) translateY(-3px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}

.mri-topic-button i {
  margin-right: 10px;
  font-size: 1.2rem;
  transition: all 0.3s;
}

.mri-topic-button:hover i {
  transform: scale(1.2) rotate(10deg);
}

body.mri-night-mode .mri-topic-button {
  background: linear-gradient(135deg, #3700b3, #6200ee);
  color: white;
}

body.mri-night-mode .mri-topic-button:hover {
  background: linear-gradient(135deg, #6200ee, #3700b3);
}

/* Study content animations */
@keyframes contentSlideIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.study-content-animate {
  animation: contentSlideIn 0.6s ease-out;
}

/* Enhanced study section animations */
@keyframes studyPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); }
}

.mri-study-details:hover {
  animation: studyPulse 2s infinite;
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeInUp {
  from { 
    opacity: 0;
    transform: translateY(20px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInLeft {
  from { 
    opacity: 0;
    transform: translateX(-20px);
  }
  to { 
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeInRight {
  from { 
    opacity: 0;
    transform: translateX(20px);
  }
  to { 
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideDown {
  from { 
    opacity: 0;
    transform: translateY(-20px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-10px); }
  60% { transform: translateY(-5px); }
}

@keyframes pulse {
  0% { transform: scale(1); opacity: 0.5; }
  50% { transform: scale(1.05); opacity: 0.8; }
  100% { transform: scale(1); opacity: 0.5; }
}

@keyframes wave {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes expandLine {
  from { width: 0; }
  to { width: 50px; }
}

@keyframes bounceIn {
  0% { transform: scale(0.8); opacity: 0; }
  60% { transform: scale(1.1); }
  100% { transform: scale(1); opacity: 1; }
}

/* Particle animation for headers */
.mri-particles {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: 1;
}

.particle {
  position: absolute;
  background: rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  animation: float 15s infinite linear;
}

@keyframes float {
  0% {
    transform: translateY(0) translateX(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(-1000px) translateX(100px) rotate(360deg);
    opacity: 0;
  }
}

/* Theme transition animation */
.theme-transition {
  animation: themeChange 1s ease-out;
}

@keyframes themeChange {
  0% { opacity: 0.7; }
  100% { opacity: 1; }
}

/* Study section specific particles */
.study-particles {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: 1;
}

.study-particle {
  position: absolute;
  background: rgba(255, 107, 129, 0.2);
  border-radius: 50%;
  animation: float 12s infinite linear;
}
</style>
</head>
<body>
<div class="mri-container">

  <div class="mri-quran-verse">
    <strong>“Allah is the Light of the heavens and the earth…”</strong> - Surah An-Nur (24:35)
  </div>

  <header class="mri-header">
    <div class="mri-particles" id="header-particles"></div>
    <div class="mri-logo"><span class="mri-logo-icon"><i class="fas fa-wave-square"></i></span><span>MRI Study Portal</span></div>
    <p class="mri-tagline">Comprehensive resource for MRI technologists and students</p>
  </header>

  <div class="mri-main-content">
    <div class="mri-section">
      <h2>MRI Topics</h2>
      <div class="mri-cards-grid">
        <div class="mri-card" onclick="mriShowPart('physics', this)"><div class="mri-card-icon"><i class="fas fa-atom"></i></div><p>MRI Physics & Principles</p></div>
        <div class="mri-card" onclick="mriShowPart('hardware', this)"><div class="mri-card-icon"><i class="fas fa-cogs"></i></div><p>MRI Hardware & System Components</p></div>
        <div class="mri-card" onclick="mriShowPart('pulse-sequences', this)"><div class="mri-card-icon"><i class="fas fa-wave-square"></i></div><p>MRI Pulse Sequences</p></div>
        <div class="mri-card" onclick="mriShowPart('image-formation', this)"><div class="mri-card-icon"><i class="fas fa-image"></i></div><p>Image Formation & Contrast</p></div>
        <div class="mri-card" onclick="mriShowPart('artifacts', this)"><div class="mri-card-icon"><i class="fas fa-exclamation-triangle"></i></div><p>MRI Artifacts</p></div>
        <div class="mri-card" onclick="mriShowPart('anatomy', this)"><div class="mri-card-icon"><i class="fas fa-brain"></i></div><p>Anatomy in MRI (Multiplanar)</p></div>
        <div class="mri-card" onclick="mriShowPart('pathology', this)"><div class="mri-card-icon"><i class="fas fa-notes-medical"></i></div><p>Pathology Recognition</p></div>
        <div class="mri-card" onclick="mriShowPart('patient-care', this)"><div class="mri-card-icon"><i class="fas fa-user-nurse"></i></div><p>MRI Patient Care & Communication</p></div>
        <div class="mri-card" onclick="mriShowPart('safety', this)"><div class="mri-card-icon"><i class="fas fa-shield-alt"></i></div><p>MRI Safety</p></div>
        <div class="mri-card" onclick="mriShowPart('contrast', this)"><div class="mri-card-icon"><i class="fas fa-vial"></i></div><p>Contrast Agents</p></div>
        <div class="mri-card" onclick="mriShowPart('image-quality', this)"><div class="mri-card-icon"><i class="fas fa-chart-line"></i></div><p>Image Quality & Optimization</p></div>
        <div class="mri-card" onclick="mriShowPart('ethics', this)"><div class="mri-card-icon"><i class="fas fa-gavel"></i></div><p>Professional Ethics & Legal Aspects</p></div>
        <div class="mri-card" onclick="mriShowPart('quality-control', this)"><div class="mri-card-icon"><i class="fas fa-check-circle"></i></div><p>Quality Control & Equipment Checks</p></div>
      </div>
    </div>

    <div class="mri-study-details">
      <div class="study-particles" id="study-particles"></div>
      <div class="mri-study-header">
        <div class="mri-study-icon"><i class="fas fa-wave-square"></i></div>
        <div><h2>Welcome</h2><p>Select an MRI topic to begin study</p></div>
      </div>
      <div class="mri-study-content">
        <div class="mri-welcome-icon"><i class="fas fa-hand-point-up"></i></div>
        <div class="mri-welcome-text">
          <h2><a href="#" style="text-decoration:none;color:#ff6b81;">Welcome to Explore MRI Study Portal</a></h2>
          <p>Select a card from MRI Topics to view detailed materials and protocols.</p>
        </div>
      </div>
    </div>
  </div>

  <div class="mri-features">
    <div class="mri-particles" id="features-particles"></div>
    <div class="mri-feature"><div class="mri-feature-icon"><i class="fas fa-book-medical"></i></div><h3>Study Guides</h3><p>Comprehensive guides for MRI topics</p></div>
    <div class="mri-feature"><div class="mri-feature-icon"><i class="fas fa-vial"></i></div><h3>Practice Quizzes</h3><p>Test your MRI knowledge with our question bank</p></div>
    <div class="mri-feature"><div class="mri-feature-icon"><i class="fas fa-procedures"></i></div><h3>Scanning Tips</h3><p>Learn MRI protocols and patient positioning</p></div>
  </div>

  <footer class="mri-footer">
    <p>© 2025 TheUmTech MRI Study Portal. All rights reserved. Educational purposes only.</p>
  </footer>
</div>

<div id="mri-theme-switch" title="Change Theme"><i class="fas fa-palette"></i></div>
<div id="mri-night-mode-switch" title="Night Mode"><i class="fas fa-moon"></i></div>

<script>
// Enhanced themes with world-class color schemes
const mriThemes = [
  // Original Pink Theme
  {
    name: "Pink Elegance",
    body: 'linear-gradient(135deg, #f9d5e5, #fddde6, #fce4ec)', 
    container: '#fff0f5', 
    header: 'linear-gradient(to right, #f8a5c2, #f67280)', 
    cards: '#ffe4f0', 
    study: 'linear-gradient(135deg, #ffe4f0, #ffd6e6, #ffe4f0)', 
    features: 'linear-gradient(to right, #f8a5c2, #f67280)', 
    footer: 'linear-gradient(to right, #f67280, #f8a5c2)'
  },
  // Ocean Blue Theme
  {
    name: "Ocean Blue",
    body: 'linear-gradient(135deg, #a1c4fd, #c2e9fb, #667eea)', 
    container: '#e2f1fd', 
    header: 'linear-gradient(to right, #667eea, #764ba2)', 
    cards: '#d3e5ff', 
    study: 'linear-gradient(135deg, #d3e5ff, #c2e9fb, #d3e5ff)', 
    features: 'linear-gradient(to right, #667eea, #764ba2)', 
    footer: 'linear-gradient(to right, #764ba2, #667eea)'
  },
  // Sunset Orange Theme
  {
    name: "Sunset Glow",
    body: 'linear-gradient(135deg, #ffafbd, #ffc3a0, #ff7e5f)', 
    container: '#ffefed', 
    header: 'linear-gradient(to right, #ff7e5f, #feb47b)', 
    cards: '#ffe4e1', 
    study: 'linear-gradient(135deg, #ffe4e1, #ffc3a0, #ffe4e1)', 
    features: 'linear-gradient(to right, #ff7e5f, #feb47b)', 
    footer: 'linear-gradient(to right, #feb47b, #ff7e5f)'
  },
  // Mint Green Theme
  {
    name: "Mint Fresh",
    body: 'linear-gradient(135deg, #00b894, #55efc4, #81ecec)', 
    container: '#eafff7', 
    header: 'linear-gradient(to right, #00b894, #55efc4)', 
    cards: '#d1f7ec', 
    study: 'linear-gradient(135deg, #d1f7ec, #55efc4, #d1f7ec)', 
    features: 'linear-gradient(to right, #00b894, #55efc4)', 
    footer: 'linear-gradient(to right, #55efc4, #00b894)'
  },
  // Royal Purple Theme
  {
    name: "Royal Purple",
    body: 'linear-gradient(135deg, #6a11cb, #2575fc, #8e2de2)', 
    container: '#f0e6ff', 
    header: 'linear-gradient(to right, #8e2de2, #4a00e0)', 
    cards: '#e6d9ff', 
    study: 'linear-gradient(135deg, #e6d9ff, #8e2de2, #e6d9ff)', 
    features: 'linear-gradient(to right, #8e2de2, #4a00e0)', 
    footer: 'linear-gradient(to right, #4a00e0, #8e2de2)'
  },
  // Gold Luxury Theme
  {
    name: "Gold Luxury",
    body: 'linear-gradient(135deg, #f6d365, #fda085, #ffd700)', 
    container: '#fff9e6', 
    header: 'linear-gradient(to right, #daa520, #ffd700)', 
    cards: '#fff2cc', 
    study: 'linear-gradient(135deg, #fff2cc, #ffd700, #fff2cc)', 
    features: 'linear-gradient(to right, #daa520, #ffd700)', 
    footer: 'linear-gradient(to right, #ffd700, #daa520)'
  },
  // Deep Sea Theme
  {
    name: "Deep Ocean",
    body: 'linear-gradient(135deg, #0f2027, #203a43, #2c5364)', 
    container: '#e6f7ff', 
    header: 'linear-gradient(to right, #2193b0, #6dd5ed)', 
    cards: '#d1eefc', 
    study: 'linear-gradient(135deg, #d1eefc, #6dd5ed, #d1eefc)', 
    features: 'linear-gradient(to right, #2193b0, #6dd5ed)', 
    footer: 'linear-gradient(to right, #6dd5ed, #2193b0)'
  },
  // Forest Theme
  {
    name: "Emerald Forest",
    body: 'linear-gradient(135deg, #1e3c72, #2a5298, #1e3c72)', 
    container: '#e8f5e9', 
    header: 'linear-gradient(to right, #2e8b57, #3cb371)', 
    cards: '#d4edda', 
    study: 'linear-gradient(135deg, #d4edda, #3cb371, #d4edda)', 
    features: 'linear-gradient(to right, #2e8b57, #3cb371)', 
    footer: 'linear-gradient(to right, #3cb371, #2e8b57)'
  },
  // Desert Sand Theme
  {
    name: "Desert Sand",
    body: 'linear-gradient(135deg, #d1913c, #ffd194, #d1913c)', 
    container: '#fdf6e3', 
    header: 'linear-gradient(to right, #d1913c, #ffd194)', 
    cards: '#fbe9c9', 
    study: 'linear-gradient(135deg, #fbe9c9, #ffd194, #fbe9c9)', 
    features: 'linear-gradient(to right, #d1913c, #ffd194)', 
    footer: 'linear-gradient(to right, #ffd194, #d1913c)'
  },
  // Lavender Dream Theme
  {
    name: "Lavender Dream",
    body: 'linear-gradient(135deg, #e2e2e2, #c9d6ff, #e2e2e2)', 
    container: '#f3e5f5', 
    header: 'linear-gradient(to right, #ba68c8, #9575cd)', 
    cards: '#e1bee7', 
    study: 'linear-gradient(135deg, #e1bee7, #9575cd, #e1bee7)', 
    features: 'linear-gradient(to right, #ba68c8, #9575cd)', 
    footer: 'linear-gradient(to right, #9575cd, #ba68c8)'
  }
];

let mriCurrentTheme = 0;
let currentIconClass = 'fas fa-wave-square';

// Create particles for headers and study section
function createParticles() {
  const headerParticles = document.getElementById('header-particles');
  const featuresParticles = document.getElementById('features-particles');
  const studyParticles = document.getElementById('study-particles');
  
  // Clear existing particles
  headerParticles.innerHTML = '';
  featuresParticles.innerHTML = '';
  studyParticles.innerHTML = '';
  
  // Create particles for header
  for (let i = 0; i < 20; i++) {
    const particle = document.createElement('div');
    particle.classList.add('particle');
    particle.style.width = `${Math.random() * 5 + 2}px`;
    particle.style.height = particle.style.width;
    particle.style.left = `${Math.random() * 100}%`;
    particle.style.top = `${Math.random() * 100}%`;
    particle.style.animationDuration = `${Math.random() * 10 + 10}s`;
    particle.style.animationDelay = `${Math.random() * 5}s`;
    headerParticles.appendChild(particle);
  }
  
  // Create particles for features
  for (let i = 0; i < 15; i++) {
    const particle = document.createElement('div');
    particle.classList.add('particle');
    particle.style.width = `${Math.random() * 5 + 2}px`;
    particle.style.height = particle.style.width;
    particle.style.left = `${Math.random() * 100}%`;
    particle.style.top = `${Math.random() * 100}%`;
    particle.style.animationDuration = `${Math.random() * 10 + 10}s`;
    particle.style.animationDelay = `${Math.random() * 5}s`;
    featuresParticles.appendChild(particle);
  }
  
  // Create particles for study section
  for (let i = 0; i < 12; i++) {
    const particle = document.createElement('div');
    particle.classList.add('study-particle');
    particle.style.width = `${Math.random() * 4 + 2}px`;
    particle.style.height = particle.style.width;
    particle.style.left = `${Math.random() * 100}%`;
    particle.style.top = `${Math.random() * 100}%`;
    particle.style.animationDuration = `${Math.random() * 8 + 8}s`;
    particle.style.animationDelay = `${Math.random() * 3}s`;
    studyParticles.appendChild(particle);
  }
}

// Initialize particles
createParticles();

document.getElementById('mri-theme-switch').addEventListener('click', () => {
  // Add transition effect
  document.body.classList.add('theme-transition');
  
  mriCurrentTheme = (mriCurrentTheme + 1) % mriThemes.length;
  const theme = mriThemes[mriCurrentTheme];
  
  document.body.style.transition = 'background 1s ease';
  document.querySelector('.mri-container').style.transition = 'background 1s ease';
  document.querySelector('.mri-header').style.transition = 'background 1s ease';
  document.querySelector('.mri-features').style.transition = 'background 1s ease';
  document.querySelector('.mri-footer').style.transition = 'background 1s ease';
  
  document.body.style.background = theme.body;
  document.querySelector('.mri-container').style.background = theme.container;
  document.querySelector('.mri-header').style.background = theme.header;
  document.querySelectorAll('.mri-card').forEach(c => c.style.background = theme.cards);
  document.querySelector('.mri-study-details').style.background = theme.study;
  document.querySelector('.mri-features').style.background = theme.features;
  document.querySelector('.mri-footer').style.background = theme.footer;
  
  // Update study icon with current icon class
  updateStudyIcon();
  
  // Remove transition class after animation completes
  setTimeout(() => {
    document.body.classList.remove('theme-transition');
  }, 1000);
  
  // Show theme name notification
  showNotification(`Theme: ${theme.name}`);
});

document.getElementById('mri-night-mode-switch').addEventListener('click', () => {
  document.body.classList.toggle('mri-night-mode');
  // Update study icon when toggling night mode
  updateStudyIcon();
  
  // Show notification
  if (document.body.classList.contains('mri-night-mode')) {
    showNotification('Night Mode Enabled');
  } else {
    showNotification('Night Mode Disabled');
  }
});

function showNotification(message) {
  // Create notification element
  const notification = document.createElement('div');
  notification.textContent = message;
  notification.style.position = 'fixed';
  notification.style.bottom = '20px';
  notification.style.left = '50%';
  notification.style.transform = 'translateX(-50%)';
  notification.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';
  notification.style.color = 'white';
  notification.style.padding = '10px 20px';
  notification.style.borderRadius = '5px';
  notification.style.zIndex = '1000';
  notification.style.opacity = '0';
  notification.style.transition = 'opacity 0.5s';
  
  document.body.appendChild(notification);
  
  // Animate in
  setTimeout(() => {
    notification.style.opacity = '1';
  }, 10);
  
  // Animate out and remove
  setTimeout(() => {
    notification.style.opacity = '0';
    setTimeout(() => {
      document.body.removeChild(notification);
    }, 500);
  }, 2000);
}

function updateStudyIcon() {
  const studyIcon = document.querySelector('.mri-study-icon');
  studyIcon.innerHTML = `<i class="${currentIconClass}"></i>`;
}

function mriShowPart(part, element){
  const cards = document.querySelectorAll('.mri-card');
  cards.forEach(card => card.classList.remove('mri-active-card'));
  element.classList.add('mri-active-card');

  const studyIcon = document.querySelector('.mri-study-icon');
  const welcomeText = document.querySelector('.mri-welcome-text');

  let iconClass='', heading='', topics=[];

  switch(part){
    case 'physics':
      iconClass='fas fa-atom';
      heading='MRI Physics & Principles';
      topics=[
        'Basic MRI Physics',
        'Magnetic Fields B0, B1, Gradients',
        'T1, T2, T2*, PD Weighting',
        'Resonance, Relaxation, Precession',
        'RF Pulse Sequences',
        'K-space Fundamentals',
        'Fourier Transform',
        'Spatial Encoding'
      ];
      break;
    case 'hardware':
      iconClass='fas fa-cogs';
      heading='MRI Hardware & System Components';
      topics=[
        'MRI Scanner Components Magnet, Gradient coils, RF coils',
        'Types of Magnets Permanent, Resistive, Superconducting',
        'Cryogens and Cooling Systems',
        'RF Shielding and Faraday Cage'
      ];
      break;
    case 'pulse-sequences':
      iconClass='fas fa-wave-square';
      heading='MRI Pulse Sequences';
      topics=[
        'Spin Echo SE',
        'Fast Spin Echo FSE/TSE',
        'Gradient Echo GRE',
        'Inversion Recovery STIR, FLAIR',
        'Echo Planar Imaging EPI',
        'Balanced SSFP',
        'Diffusion-Weighted Imaging DWI',
        'Perfusion, Spectroscopy, fMRI'
      ];
      break;
    case 'image-formation':
      iconClass='fas fa-image';
      heading='Image Formation & Contrast';
      topics=[
        'Image Parameters TR, TE, TI, FA',
        'Matrix Size, FOV, Slice Thickness',
        'Phase Encoding vs Frequency Encoding',
        'Contrast Mechanisms Intrinsic & Extrinsic'
      ];
      break;
    case 'artifacts':
      iconClass='fas fa-exclamation-triangle';
      heading='MRI Artifacts';
      topics=[
        'Motion Artifact',
        'Aliasing Wrap-around',
        'Gibbs/Ringing',
        'Susceptibility Artifact',
        'Chemical Shift',
        'Zipper Artifact',
        'Metal Artifact',
        'Ghosting'
      ];
      break;
    case 'anatomy':
      iconClass='fas fa-brain';
      heading='Anatomy in MRI (Multiplanar)';
      topics=[
        'Brain Axial, Coronal, Sagittal',
        'Spine Cervical, Thoracic, Lumbar',
        'MSK Shoulder, Knee, Wrist, Hip',
        'Abdomen & Pelvis Organs',
        'Breast MRI',
        'Vascular Anatomy MR Angiography'
      ];
      break;
    case 'pathology':
      iconClass='fas fa-notes-medical';
      heading='Pathology Recognition';
      topics=[
        'Tumors Brain, Bone, Abdomen',
        'MS, Stroke, Hemorrhage',
        'Infections & Inflammations',
        'Degenerative Spine',
        'Fractures, ACL Tears, Meniscal Injuries'
      ];
      break;
    case 'patient-care':
      iconClass='fas fa-user-nurse';
      heading='Patient Care & Communication';
      topics=[
        'Patient Screening & Consent',
        'Pregnancy, Implants, Claustrophobia',
        'Sedation, Anesthesia, Monitoring',
        'Infection Control',
        'Verbal and Non-verbal Communication'
      ];
      break;
    case 'safety':
      iconClass='fas fa-shield-alt';
      heading='MRI Safety';
      topics=[
        'MRI Zones 1 to 4',
        'Quench Procedure',
        'SAR Specific Absorption Rate',
        'Thermal Burns, RF heating',
        'Acoustic Noise & Hearing Protection',
        'Ferromagnetic Projectile Risk'
      ];
      break;
    case 'contrast':
      iconClass='fas fa-vial';
      heading='Contrast Agents';
      topics=[
        'Types Linear vs Macrocyclic',
        'NSF Risk',
        'Renal Screening eGFR',
        'Dose Calculation',
        'Injection Protocols'
      ];
      break;
    case 'image-quality':
      iconClass='fas fa-chart-line';
      heading='Image Quality & Optimization';
      topics=[
        'SNR Signal-to-Noise Ratio',
        'CNR Contrast-to-Noise Ratio',
        'Resolution',
        'Bandwidth',
        'Scan Time Reduction Techniques'
      ];
      break;
    case 'ethics':
      iconClass='fas fa-gavel';
      heading='Professional Ethics & Legal Aspects';
      topics=[
        'Confidentiality HIPAA/GDPR',
        'Patient Rights',
        'Scope of Practice',
        'Informed Consent',
        'Error Reporting',
        'Duty of Care'
      ];
      break;
    case 'quality-control':
      iconClass='fas fa-check-circle';
      heading='Quality Control & Equipment Checks';
      topics=[
        'Daily QC Procedures',
        'Magnet Homogeneity',
        'Gradient Linearity',
        'Coil Performance',
        'Equipment Logs'
      ];
      break;
    default:
      iconClass='fas fa-wave-square';
      heading='Welcome';
      topics=[];
  }

  // Store the current icon class and update the icon
  currentIconClass = iconClass;
  updateStudyIcon();

  // Create vertical buttons with icons
  if(topics.length > 0){
    let html = `<h2 style="margin-bottom: 20px;">${heading}</h2>`;
    topics.forEach(topic => {
      const fileName = 'mri' + topic.replace(/\s+/g,'_').replace(/[,&]/g,'').replace(/\//g,'_') + '.html';
      const icon = getIconForTopic(topic);
      html += `<button class="mri-topic-button study-content-animate" onclick="window.location.href='${fileName}'"><i class="${icon}"></i>${topic}</button>`;
    });
    welcomeText.innerHTML = html;
  } else {
    welcomeText.innerHTML = '<h2>Select an MRI topic to begin study</h2>';
  }
}

function getIconForTopic(topic) {
  // Return appropriate icon based on topic
  if (topic.includes('Physics')) return 'fas fa-atom';
  if (topic.includes('Magnetic')) return 'fas fa-magnet';
  if (topic.includes('T1') || topic.includes('T2')) return 'fas fa-wave-square';
  if (topic.includes('Resonance')) return 'fas fa-sync';
  if (topic.includes('RF Pulse')) return 'fas fa-broadcast-tower';
  if (topic.includes('K-space')) return 'fas fa-project-diagram';
  if (topic.includes('Fourier')) return 'fas fa-chart-line';
  if (topic.includes('Spatial')) return 'fas fa-border-all';
  if (topic.includes('Scanner')) return 'fas fa-cogs';
  if (topic.includes('Magnet')) return 'fas fa-magnet';
  if (topic.includes('Cryogen')) return 'fas fa-temperature-low';
  if (topic.includes('Shielding')) return 'fas fa-shield-alt';
  if (topic.includes('Spin Echo')) return 'fas fa-redo';
  if (topic.includes('Gradient')) return 'fas fa-sliders-h';
  if (topic.includes('Inversion')) return 'fas fa-exchange-alt';
  if (topic.includes('Echo Planar')) return 'fas fa-bolt';
  if (topic.includes('Diffusion')) return 'fas fa-water';
  if (topic.includes('Perfusion')) return 'fas fa-tint';
  if (topic.includes('Parameters')) return 'fas fa-sliders-h';
  if (topic.includes('Matrix')) return 'fas fa-table';
  if (topic.includes('Encoding')) return 'fas fa-code';
  if (topic.includes('Contrast')) return 'fas fa-adjust';
  if (topic.includes('Motion')) return 'fas fa-running';
  if (topic.includes('Aliasing')) return 'fas fa-compress-arrows-alt';
  if (topic.includes('Gibbs')) return 'fas fa-waveform';
  if (topic.includes('Susceptibility')) return 'fas fa-magnet';
  if (topic.includes('Chemical')) return 'fas fa-flask';
  if (topic.includes('Zipper')) return 'fas fa-zip';
  if (topic.includes('Metal')) return 'fas fa-hard-hat';
  if (topic.includes('Ghosting')) return 'fas fa-ghost';
  if (topic.includes('Brain')) return 'fas fa-brain';
  if (topic.includes('Spine')) return 'fas fa-bone';
  if (topic.includes('MSK')) return 'fas fa-running';
  if (topic.includes('Abdomen')) return 'fas fa-stomach';
  if (topic.includes('Breast')) return 'fas fa-female';
  if (topic.includes('Vascular')) return 'fas fa-heartbeat';
  if (topic.includes('Tumor')) return 'fas fa-bacteria';
  if (topic.includes('Stroke')) return 'fas fa-brain';
  if (topic.includes('Infection')) return 'fas fa-virus';
  if (topic.includes('Degenerative')) return 'fas fa-wheelchair';
  if (topic.includes('Fracture')) return 'fas fa-bone';
  if (topic.includes('ACL')) return 'fas fa-running';
  if (topic.includes('Meniscal')) return 'fas fa-knee';
  if (topic.includes('Screening')) return 'fas fa-clipboard-check';
  if (topic.includes('Pregnancy')) return 'fas fa-baby';
  if (topic.includes('Claustrophobia')) return 'fas fa-anxious';
  if (topic.includes('Sedation')) return 'fas fa-pills';
  if (topic.includes('Infection Control')) return 'fas fa-hand-sparkles';
  if (topic.includes('Communication')) return 'fas fa-comments';
  if (topic.includes('Zones')) return 'fas fa-map-marked-alt';
  if (topic.includes('Quench')) return 'fas fa-fire-extinguisher';
  if (topic.includes('SAR')) return 'fas fa-radiation-alt';
  if (topic.includes('Thermal')) return 'fas fa-temperature-high';
  if (topic.includes('Acoustic')) return 'fas fa-volume-up';
  if (topic.includes('Projectile')) return 'fas fa-magnet';
  if (topic.includes('Types')) return 'fas fa-vial';
  if (topic.includes('NSF')) return 'fas fa-exclamation-triangle';
  if (topic.includes('Renal')) return 'fas fa-kidneys';
  if (topic.includes('Dose')) return 'fas fa-syringe';
  if (topic.includes('Injection')) return 'fas fa-syringe';
  if (topic.includes('SNR') || topic.includes('CNR')) return 'fas fa-signal';
  if (topic.includes('Resolution')) return 'fas fa-expand';
  if (topic.includes('Bandwidth')) return 'fas fa-wifi';
  if (topic.includes('Scan Time')) return 'fas fa-stopwatch';
  if (topic.includes('Confidentiality')) return 'fas fa-lock';
  if (topic.includes('Rights')) return 'fas fa-gavel';
  if (topic.includes('Scope')) return 'fas fa-tasks';
  if (topic.includes('Consent')) return 'fas fa-file-signature';
  if (topic.includes('Error')) return 'fas fa-bug';
  if (topic.includes('Duty')) return 'fas fa-hands-helping';
  if (topic.includes('Daily')) return 'fas fa-calendar-day';
  if (topic.includes('Homogeneity')) return 'fas fa-balance-scale';
  if (topic.includes('Linearity')) return 'fas fa-ruler';
  if (topic.includes('Coil')) return 'fas fa-circle';
  if (topic.includes('Equipment')) return 'fas fa-tools';
  
  return 'fas fa-book';
}
</script>
<!-- Zoom Buttons -->
<div id="mri-zoom-out" title="Zoom Out">-</div>
<div id="mri-zoom-in" title="Zoom In">+</div>

<script>
// Zoom functionality
const container = document.querySelector('.mri-container');
document.getElementById('mri-zoom-out').addEventListener('click', () => {
  container.style.transform = 'scale(0.7)';
  container.style.transformOrigin = 'top center';
  showNotification('Zoomed Out');
});

document.getElementById('mri-zoom-in').addEventListener('click', () => {
  container.style.transform = 'scale(1)';
  container.style.transformOrigin = 'top center';
  showNotification('Zoom Reset');
});
</script>

</body>
</html>